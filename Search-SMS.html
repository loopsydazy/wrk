<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Formatter</title>
    <style>
        /* CSS for visited and unvisited links */
        a:link {
            color: blue; /* Unvisited links */
        }
        a:visited {
            color: red; /* Visited links */
        }
    </style>
</head>
<body>

<h1>Text Formatter</h1>

<!-- Form for input -->
<form id="stringForm">
    <textarea id="inputStrings" rows="10" cols="60" placeholder="Paste your strings here"></textarea><br><br>
    <button type="button" onclick="processStrings()">Submit</button>
</form>

<!-- Button to open all links in each format -->
<h3>Format 1 <button onclick="openAllLinks('outputFormat1')">Open All</button></h3>
<div id="outputFormat1"></div>

<h3>Format 2 <button onclick="openAllLinks('outputFormat2')">Open All</button></h3>
<div id="outputFormat2"></div>

<h3>Format 3 <button onclick="openAllLinks('outputFormat3')">Open All</button></h3>
<div id="outputFormat3"></div>

<h3>Format 4 <button onclick="openAllLinks('outputFormat4')">Open All</button></h3>
<div id="outputFormat4"></div>

<h3>SMS Links (Help, Info, Stop, Aide, Arret)</h3>
<div id="outputSMS"></div>

<script>
    function normalizeSpaces(str) {
        // Replace all types of spaces (non-breaking, thin, etc.) with regular space
        return str.replace(/\s+/g, ' ').trim();
    }

    function openAllLinks(formatId) {
        // Get all links in the specified format
        let links = document.getElementById(formatId).getElementsByTagName('a');
        
        // Open each link in a new tab with a slight delay to avoid pop-up blockers
        for (let i = 0; i < links.length; i++) {
            setTimeout(() => {
                window.open(links[i].href, '_blank');
            }, i * 3000); // Delay of 3 seconds for opening each link
        }
    }

    function processStrings() {
        // Get input and split by new lines
        let input = document.getElementById('inputStrings').value.trim();
        let lines = input.split('\n');

        // Clear previous output
        document.getElementById('outputFormat1').innerHTML = '';
        document.getElementById('outputFormat2').innerHTML = '';
        document.getElementById('outputFormat3').innerHTML = '';
        document.getElementById('outputFormat4').innerHTML = '';
        document.getElementById('outputSMS').innerHTML = '';

        // Process each line
        lines.forEach(line => {
            // Normalize any non-standard spaces
            line = normalizeSpaces(line);

            let parts = line.trim().split(' ');
            let number = parts[0];  // Extract the number part
            let text = parts.slice(1).join(' ');  // Extract the text part (remaining words)

            // Encode the text part for use in URLs
            let encodedText = encodeURIComponent(text);

            // Create the URLs

            // Format 1: Google search with text "to {number}"
            let link1 = `https://www.google.com/search?q=text+%22to+${number}%22`;
            document.getElementById('outputFormat1').innerHTML += `<a href="${link1}" target="_blank">${number} ${text}</a><br>`;

            // Format 2: Google.ca search with text "to {number}" and country restriction
            let link2 = `https://www.google.ca/search?q=text+%22to+${number}%22&cr=countryCA`;
            document.getElementById('outputFormat2').innerHTML += `<a href="${link2}" target="_blank">${number} ${text}</a><br>`;

            // Format 3: Google search with "{number}" + text
            let link3 = `https://www.google.com/search?q=%22${number}%22+${encodedText}`;
            document.getElementById('outputFormat3').innerHTML += `<a href="${link3}" target="_blank">${number} ${text}</a><br>`;

            // Format 4: Google.ca search with "{number}" + text and country restriction
            let link4 = `https://www.google.ca/search?q=%22${number}%22+${encodedText}&cr=countryCA`;
            document.getElementById('outputFormat4').innerHTML += `<a href="${link4}" target="_blank">${number} ${text}</a><br>`;

            // SMS Links for Help, Info, Stop, Aide, Arret
            let smsLinks = `
                <a href="sms:${number}?body=Help" target="_blank">Send Help to ${number}</a><br>
                <a href="sms:${number}?body=Info" target="_blank">Send Info to ${number}</a><br>
                <a href="sms:${number}?body=Stop" target="_blank">Send Stop to ${number}</a><br>
                <a href="sms:${number}?body=Aide" target="_blank">Send Aide to ${number}</a><br>
                <a href="sms:${number}?body=Arret" target="_blank">Send Arret to ${number}</a><br>
            `;
            document.getElementById('outputSMS').innerHTML += smsLinks;
        });
    }
</script>

</body>
</html>
